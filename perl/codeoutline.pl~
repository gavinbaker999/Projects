#!/usr/bin/perl -w
if (@ARGV != 1) {die "Wrong number of command arguments\nperl codeoutline.pl sourcefilename\n";}
$a = $ARGV[0];
open(IN,"$a") || die "Can't open file for reading $a\n";
open(OUT,">$a.out") || die "Can't open file for writing $a.out\n";

print "JAVA Code Outliner Version 1.00\n";
print "(c) End House Software 2008\n";

while (<IN>) {
	$line = $_;
	chomp($line);

	$line =~ s#//.*$##g;
	$line =~ s/{.*}//g;
	$line =~ s/{.*$//g;
	
	$_ = $line;
		
	if (/\bclass\b/ || /\binterface\b/) {
		print OUT "\n$line\n";
		next;
	}
	if (/\bpublic\b/ || /\bprivate\b/ || /\bprotected\b/) {
		print OUT "$line\n";
	}
}
close(IN);
close(OUT);


